<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1024">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>On the Effectiveness of Address Space Randomization | by Stefan Boesen</title>
    
    <meta name="generator" content="Slide Show (S9)">
    <meta name="author" content="Stefan Boesen">
    
    <!-- Custom CSS just for this page -->
    <link rel="stylesheet" href="impress.js.css">
    
    <link rel="apple-touch-icon" href="apple-touch-icon.png" >
</head>
<body>

<div id="impress">

    <!-- note: assumes no header (breaking slides w/ SLIDE directive) -->

    <div class='step slide' data-x='-1000' data-y='-1500' >
      <!-- === begin markdown block =====================================================

      generated by markdown 1.0.0 on Ruby 1.9.3 (2012-04-20) [x86_64-darwin11.3.0]
                on 2012-06-26 02:00:59 -0400 with Markdown engine kramdown (0.13.7)
                  using options { !to be done! }
  -->

<!-- _S9SLIDE_  slide x=-1000 y=-1500 -->

<h1 id="on-the-effectiveness-of-address-space-randomization">On the Effectiveness of Address Space Randomization</h1>


    </div>

    <div class='step slide' data-x='0' data-y='-1500' >
      <!-- _S9SLIDE_  slide x=0 y=-1500 -->

<ul id="author-list">
<li>Hovav Shacham</li>
<li>Matthew Page</li>
<li>Ben Pfaff</li>
<li>Eu-Jin Goh</li>
<li>Nagendra Modadugu</li>
<li>Dan Boneh</li>
</ul>


    </div>

    <div class='step slide pax-slide' data-x='1000' data-y='-1500' data-rotate='90' >
      <!-- _S9SLIDE_  slide pax-slide x=1000 y=-1500 rotate=90 -->

<h1 id="pax-aslr">PAX ASLR</h1>


    </div>

    <div class='step slide' data-x='1000' data-y='-500' data-rotate='90' >
      <!-- _S9SLIDE_  slide x=1000 y=-500 rotate=90 -->

<ul>
  <li>Linux Kernel Patch implementing ASLR</li>
  <li>Randomizes three locations per ELF:
    <ul>
      <li>Executable</li>
      <li>Stack</li>
      <li>Mapped</li>
    </ul>
  </li>
</ul>


    </div>

    <div class='step slide' data-x='400' data-y='-500' data-rotate='90' >
      <!-- _S9SLIDE_  slide x=400 y=-500 rotate=90 -->

<ul>
  <li>Executable: 16 bits</li>
  <li>Stack: 24 bits</li>
  <li>
    <p>Mapped: 16 bits </p>
  </li>
  <li>Basically adds random offset to each memory section.</li>
</ul>


    </div>

    <div class='step slide' data-x='-600' data-y='-200' data-z='-800' data-rotate='90' >
      <!-- _S9SLIDE_  slide x=-600 y=-200 z=-800 rotate=90 -->

<h1 id="mapped-memory">Mapped Memory</h1>

<ul class="mapped-memory-components">
  <li>Heap</li>
  <li>Thread stacks</li>
  <li>Shared memory</li>
  <li>Dynamic libraries</li>
    <ul class="mapped-memory-components">
      <li>Libc</li>
        <ul class="mapped-memory-components">
          <li>System()</li>
        </ul>
    </ul>
</ul>


    </div>

    <div class='step slide' data-x='-600' data-y='500' data-rotate='90' >
      <!-- _S9SLIDE_  slide x=-600 y=500 rotate=90 -->

<ul id="randomization-explanation-components">
  <li>Randomizes on process creation</li>
  <li>Their example used Apache, which forks children on each request</li>
  <ul>
    <li>Same mapped memory</li>
    <li>Doesn't get randomized</li>
    <li>Probe address space linearly</li>
  </ul>
</ul>


    </div>

    <div class='step slide' data-x='-600' data-y='1500' data-rotate='180' >
      <!-- _S9SLIDE_  slide x=-600 y=1500 rotate=180 -->

<ul>
  <li>What if we don’t fork every time?</li>
  <li>Apache dies every time</li>
  <li>New random offset every time</li>
  <li>2<sup>n</sup> average probes instead of 2<sup>n-1</sup></li>
</ul>


    </div>

    <div class='step slide compile-time' data-x='-1600' data-y='1500' data-rotate='180' >
      <!-- _S9SLIDE_  slide compile-time x=-1600 y=1500 rotate=180 -->

<h1 id="what-about-compile-time-randomization">What about compile time randomization?</h1>


    </div>

    <div class='step slide' data-x='-2600' data-y='1500' data-rotate='180' >
      <!-- _S9SLIDE_  slide x=-2600 y=1500 rotate=180 -->

<ul>
  <li>Makes relative jumping useless</li>
  <li>Can’t be performed often
    <ul>
      <li>Expensive</li>
    </ul>
  </li>
  <li>Doesn’t make it harder to find a specific function</li>
</ul>


    </div>

    <div class='step slide' data-x='-2600' data-y='2500' data-rotate='270' >
      <!-- _S9SLIDE_  slide x=-2600 y=2500 rotate=270 -->

<h1 id="solutions">Solutions</h1>


    </div>

    <div class='step slide' data-x='-1800' data-y='2500' data-rotate='270' >
      <!-- _S9SLIDE_  slide x=-1800 y=2500 rotate=270 -->

<ul>
  <li>Canary values (StackGuard)</li>
  <li>64 bit</li>
  <li>2<sup>40</sup> - 2<sup>16</sup> (24 more bits of entropy)</li>
  <li>1099511562240 times longer (on average)</li>
</ul>


    </div>

    <div class='step slide bam' data-x='-1000' data-y='2500' data-rotate='270' >
      <!-- _S9SLIDE_  slide bam x=-1000 y=2500 rotate=270 -->

<p>Total time? 34.87 <b class="rotating">millennia</b></p>


    </div>

    <div class='step slide final-info-slide' data-x='-200' data-y='2500' data-rotate='270' >
      <!-- _S9SLIDE_  slide final-info-slide x=-200 y=2500 rotate=270 -->

<ul>
  <li>Watcher</li>
  <li>Can’t be proactive
    <ul>
      <li>It can, but it would end up shutting the server down</li>
    </ul>
  </li>
  <li>Can’t detect legitimate attacks from DOS attempts</li>
  <li>Botnets</li>
</ul>


    </div>

    <div class='step slide questions-slide' data-x='600' data-y='2500' data-rotate='270' data-z='2000' >
      <!-- _S9SLIDE_  slide questions-slide x=600 y=2500 rotate=270 z=2000 -->

<h1 id="questions">Questions?</h1>

<!-- === end markdown block ===================================================== -->

    </div>


</div>

<script src="js/impress.js"></script>
<script>impress();</script>

</body>
</html>